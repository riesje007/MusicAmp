<Window x:Class="MusicAmp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MusicAmp" 
        xmlns:controls="clr-namespace:MusicAmp.Controls"
        mc:Ignorable="d" AllowsTransparency="True" Background="Transparent" WindowStyle="None"
        Icon="/Assets/MusicPlayer.ico"
        Title="MainWindow" Height="250" Width="800">
    <Window.Resources>
        <CornerRadius x:Key="DefaultBorderRadius" TopLeft="20" TopRight="5" BottomRight="20" BottomLeft="5" />
    </Window.Resources>
    <Grid x:Name="mainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Border CornerRadius="{StaticResource DefaultBorderRadius}" Background="#100020" Grid.RowSpan="2" />
        <Border CornerRadius="{StaticResource DefaultBorderRadius}" Background="{StaticResource CarbonBrush}" Grid.RowSpan="2" />
        <Border x:Name="TitleBar" CornerRadius="{StaticResource DefaultBorderRadius}" Grid.Row="0" Background="SkyBlue" MouseLeftButtonDown="DragWindow" >
            <Grid>
                <Border CornerRadius="{StaticResource DefaultBorderRadius}" Background="#40000000" x:Name="darkening" MouseLeftButtonDown="DragWindow" />
                <Border CornerRadius="{StaticResource DefaultBorderRadius}" MouseLeftButtonDown="DragWindow" >
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0.5 0" EndPoint="0.5 1">
                            <GradientStop Color="#50000000" Offset="0" x:Name="colorAccent1" />
                            <GradientStop Color="#30000000" Offset="0.3" x:Name="colorAccent2"/>
                            <GradientStop Color="#30000000" Offset="0.65" x:Name="colorAccent3" />
                            <GradientStop Color="#60000000" Offset="1" x:Name="colorAccent4" />
                        </LinearGradientBrush>
                    </Border.Background>
                </Border>
                <Border Background="#35FFFFFF" Margin="5 2" VerticalAlignment="Top" Height="15" CornerRadius="{StaticResource DefaultBorderRadius}" x:Name="btnShine" MouseLeftButtonDown="DragWindow">
                    <Border.LayoutTransform>
                        <ScaleTransform ScaleX="1" ScaleY="1" />
                    </Border.LayoutTransform>
                </Border>
                <Border Margin="5 2" VerticalAlignment="Top" Height="10" CornerRadius="{StaticResource DefaultBorderRadius}" MouseLeftButtonDown="DragWindow">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0 0" EndPoint="0 1">
                            <GradientStop Color="#D0FFFFFF" Offset="0" x:Name="highLight1" />
                            <GradientStop Color="#85FFFFFF" Offset="0.2" x:Name="highLight2" />
                            <GradientStop Color="Transparent" Offset="1" />
                        </LinearGradientBrush>
                    </Border.Background>
                </Border>
                <Grid Margin="10 3 5 3">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="40" />
                        <ColumnDefinition Width="40" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="MusicAmp" VerticalAlignment="Center" Margin="10,0,0,0" Foreground="White" FontFamily="Segoe UI" FontSize="16" FontWeight="Bold"/>
                    <Button x:Name="MinimizeButton" Grid.Column="1" Content="&#x2013;" Click="MinimizeWindow" Background="SkyBlue" BorderBrush="Transparent" Foreground="White" FontSize="16" Margin="2 0" />
                    <Button x:Name="CloseButton" Grid.Column="2" Content="&#x2715;" Click="CloseWindow" Background="Crimson" BorderBrush="Transparent" Foreground="White" FontSize="16" Margin="2 0" />
                </Grid>
            </Grid>
        </Border>
        <Grid x:Name="bodyPart" Grid.Row="1">
            <Grid.Resources>
                <Style TargetType="RadioButton" x:Key="PlayButton">
                    <Setter Property="HorizontalAlignment" Value="Left" />
                    <Setter Property="MinHeight" Value="0" />
                    <Setter Property="MinWidth" Value="0" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="RadioButton">
                                <Grid Margin="2" Background="Transparent" x:Name="Root">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CheckStates">
                                            <VisualState x:Name="Checked">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="ToggleOn" Storyboard.TargetProperty="Opacity" To="1.0" Duration="0:0:0.4" />
                                                    <DoubleAnimation Storyboard.TargetName="ToggleOff" Storyboard.TargetProperty="Opacity" To="0.0" Duration="0:0:0.4" />
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Unchecked">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="ToggleOn" Storyboard.TargetProperty="Opacity" To="0.0" Duration="0:0:0.4" />
                                                    <DoubleAnimation Storyboard.TargetName="ToggleOff" Storyboard.TargetProperty="Opacity" To="1.0" Duration="0:0:0.4" />
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Indeterminate">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="ToggleOn" Storyboard.TargetProperty="Opacity" To="0.0" Duration="0:0:0.4" />
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal" />
                                            <VisualState x:Name="PointerOver">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="lighten" Storyboard.TargetProperty="Opacity" To="0.5" Duration="0:0:0.5" />
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Pressed">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="lighten" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2" />
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Disabled">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="darken" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:1" />
                                                    <DoubleAnimation Storyboard.TargetName="lighten" Storyboard.TargetProperty="Opacity" To="0.0" Duration="0:0:0.1" />
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                    <Ellipse Fill="{TemplateBinding Background}" Width="30" Height="30" />
                                    <Ellipse Fill="#80FFFF90" Width="30" Height="30" x:Name="lighten" Opacity="0" />
                                    <Ellipse Fill="#80909090" Width="30" Height="30" x:Name="darken" Opacity="0" />
                                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="ToggleOn" Text="{TemplateBinding Tag}"
                                    FontFamily="Segoe Fluent Icons" FontSize="18" FontWeight="Black" Foreground="{TemplateBinding Foreground}" Opacity="0"  />
                                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="ToggleOff" Text="{TemplateBinding Content}"
                                    FontFamily="Segoe Fluent Icons" FontSize="18" FontWeight="Black" Foreground="{TemplateBinding Foreground}"  Opacity="1" />
                                    <Ellipse Width="20" Height="18" HorizontalAlignment="Center" VerticalAlignment="Top">
                                        <Ellipse.Fill>
                                            <LinearGradientBrush StartPoint="0.5 0" EndPoint="0.5 1">
                                                <GradientStop Offset="0" Color="#30FFFFFF" />
                                                <GradientStop Offset="0.2" Color="#50FFFFFF" />
                                                <GradientStop Offset="1" Color="#10FFFFFF" />
                                            </LinearGradientBrush>
                                        </Ellipse.Fill>
                                    </Ellipse>
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
                <Style TargetType="Button" x:Key="NextButton">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Grid Margin="2" Background="Transparent" x:Name="Root">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal" />
                                            <VisualState x:Name="PointerOver">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="lighten" Storyboard.TargetProperty="Opacity" To="0.5" Duration="0:0:0.5" />
                                                    <DoubleAnimation Storyboard.TargetName="Glow" Storyboard.TargetProperty="Opacity" To="0.3" Duration="0:0:0.5" />
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Pressed">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="lighten" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2" />
                                                    <DoubleAnimation Storyboard.TargetName="Glow" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2" />
                                                    <DoubleAnimation Storyboard.TargetName="Unglow" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0.2" />
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Disabled">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="darken" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:1" />
                                                    <DoubleAnimation Storyboard.TargetName="lighten" Storyboard.TargetProperty="Opacity" To="0.0" Duration="0:0:0.1" />
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                    <Ellipse Fill="{TemplateBinding Background}" Width="30" Height="30" />
                                    <Ellipse Fill="#80FFFF90" Width="30" Height="30" x:Name="lighten" Opacity="0" />
                                    <Ellipse Fill="#80909090" Width="30" Height="30" x:Name="darken" Opacity="0" />
                                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="Glow" Text="{TemplateBinding Tag}"
                                    FontFamily="Segoe Fluent Icons" FontSize="18" FontWeight="Black" Foreground="{TemplateBinding Foreground}" Opacity="0"  />
                                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="Unglow" Text="{TemplateBinding Content}"
                                    FontFamily="Segoe Fluent Icons" FontSize="18" FontWeight="Black" Foreground="{TemplateBinding Foreground}"  Opacity="1" />
                                    <Ellipse Width="20" Height="18" HorizontalAlignment="Center" VerticalAlignment="Top">
                                        <Ellipse.Fill>
                                            <LinearGradientBrush StartPoint="0.5 0" EndPoint="0.5 1">
                                                <GradientStop Offset="0" Color="#30FFFFFF" />
                                                <GradientStop Offset="0.2" Color="#50FFFFFF" />
                                                <GradientStop Offset="1" Color="#10FFFFFF" />
                                            </LinearGradientBrush>
                                        </Ellipse.Fill>
                                    </Ellipse>
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Grid.Resources>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <controls:SongDisplay CurrentSong="{Binding NowPlaying, RelativeSource={RelativeSource AncestorType=Window}}" Background="DarkBlue"
                      x:Name="SongDisplayControl" Margin="10" Foreground="BlanchedAlmond" />
                <Grid Grid.Row="1" Margin="5">
                    <Slider HorizontalAlignment="Stretch" Height="20" x:Name="TrackSlider" Minimum="0"
                                Maximum="{Binding NowPlaying.SongDurationSeconds}" IsEnabled="False" Margin="5 0 5 5" />
                </Grid>
                <Grid Grid.Row="2" Margin="5 5 5 10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <StackPanel Orientation="Horizontal" Margin="4 0 4 4" x:Name="ControlStack" HorizontalAlignment="Center">
                        <Button Content="&#xE892;" Foreground="Blue" Background="#20FFFFFF" Style="{StaticResource NextButton}" Tag="&#xE622;" Click="PreviousSong"  />
                        <RadioButton Content="&#xE768;" Foreground="Green" Background="#20FFFFFF" Style="{StaticResource PlayButton}" Tag="&#xEDDA;" GroupName="playing" Checked="OnRadioSwitch" x:Name="PlayBtn" Click="OffRadioSwitch" />
                        <RadioButton Content="&#xE769;" Foreground="Orange" Background="#20FFFFFF" Style="{StaticResource PlayButton}" Tag="&#xE62E;" GroupName="playing" Checked="OnRadioSwitch" x:Name="PauseBtn" Click="OffRadioSwitch" />
                        <RadioButton Content="&#xE739;" Foreground="DarkRed" Background="#20FFFFFF" Style="{StaticResource PlayButton}" Tag="&#xE73B;" GroupName="playing" Checked="OnRadioSwitch" x:Name="StopBtn" />
                        <Button Content="&#xE893;" Foreground="Blue" Background="#20FFFFFF" Style="{StaticResource NextButton}" Tag="&#xE623;" Click="NextSong" />
                    </StackPanel>
                    <Slider Grid.Column="1" Minimum="0" Maximum="1" Value="{Binding Volume, Mode=TwoWay}" ValueChanged="VolumeChange" IsEnabled="False" x:Name="VolumeControl" />
                </Grid>
            </Grid>
            <controls:PlaylistControl x:Name="PlaylistControl" Grid.Column="1" Margin="10" Foreground="BlanchedAlmond" Background="DarkBlue" Opacity="0.9" />
        </Grid>
    </Grid>
</Window>
